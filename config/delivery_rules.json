{
  "send_time_optimization": {
    "enabled": true,
    "time_zones": {
      "US/Eastern": {
        "optimal_hours": [9, 10, 11, 14, 15, 16],
        "avoid_hours": [0, 1, 2, 3, 4, 5, 6, 22, 23],
        "weekend_adjustment": -2
      },
      "US/Central": {
        "optimal_hours": [8, 9, 10, 13, 14, 15],
        "avoid_hours": [0, 1, 2, 3, 4, 5, 23],
        "weekend_adjustment": -2
      },
      "US/Mountain": {
        "optimal_hours": [7, 8, 9, 12, 13, 14],
        "avoid_hours": [0, 1, 2, 3, 4, 22, 23],
        "weekend_adjustment": -2
      },
      "US/Pacific": {
        "optimal_hours": [6, 7, 8, 11, 12, 13],
        "avoid_hours": [0, 1, 2, 3, 21, 22, 23],
        "weekend_adjustment": -2
      }
    },
    "day_of_week_multipliers": {
      "monday": 1.0,
      "tuesday": 1.2,
      "wednesday": 1.3,
      "thursday": 1.1,
      "friday": 0.9,
      "saturday": 0.6,
      "sunday": 0.7
    }
  },
  "domain_specific_rules": {
    "gmail.com": {
      "preferred_provider": "aws_ses",
      "max_hourly_rate": 100,
      "optimal_send_times": [9, 10, 14, 15],
      "content_preferences": {
        "max_links": 3,
        "image_ratio": 0.3,
        "subject_length": 50
      }
    },
    "yahoo.com": {
      "preferred_provider": "sendgrid",
      "max_hourly_rate": 80,
      "optimal_send_times": [10, 11, 15, 16],
      "content_preferences": {
        "max_links": 4,
        "image_ratio": 0.4,
        "subject_length": 60
      }
    },
    "outlook.com": {
      "preferred_provider": "postmark",
      "max_hourly_rate": 60,
      "optimal_send_times": [8, 9, 13, 14],
      "content_preferences": {
        "max_links": 2,
        "image_ratio": 0.2,
        "subject_length": 45
      }
    },
    "hotmail.com": {
      "preferred_provider": "postmark",
      "max_hourly_rate": 60,
      "optimal_send_times": [8, 9, 13, 14],
      "content_preferences": {
        "max_links": 2,
        "image_ratio": 0.2,
        "subject_length": 45
      }
    }
  },
  "engagement_based_rules": {
    "high_engagement": {
      "threshold": 0.8,
      "preferred_provider": "postmark",
      "send_priority": 1,
      "optimal_times": [9, 10, 14, 15],
      "content_optimization": {
        "personalization_level": "high",
        "subject_testing": true,
        "send_time_testing": true
      }
    },
    "medium_engagement": {
      "threshold": 0.5,
      "preferred_provider": "sendgrid",
      "send_priority": 2,
      "optimal_times": [10, 11, 15, 16],
      "content_optimization": {
        "personalization_level": "medium",
        "subject_testing": false,
        "send_time_testing": false
      }
    },
    "low_engagement": {
      "threshold": 0.2,
      "preferred_provider": "aws_ses",
      "send_priority": 3,
      "optimal_times": [11, 12, 16, 17],
      "content_optimization": {
        "personalization_level": "basic",
        "subject_testing": false,
        "send_time_testing": false
      }
    }
  },
  "content_optimization": {
    "subject_line_rules": {
      "max_length": 60,
      "min_length": 20,
      "avoid_spam_words": [
        "free", "guarantee", "no obligation", "winner", "urgent",
        "act now", "limited time", "click here", "buy now", "special offer",
        "congratulations", "you've won", "cash bonus", "risk free"
      ],
      "personalization_tokens": ["{{name}}", "{{company}}", "{{location}}"],
      "emoji_limit": 2
    },
    "body_content_rules": {
      "min_text_length": 500,
      "max_link_count": 5,
      "image_to_text_ratio": 0.4,
      "required_elements": [
        "unsubscribe_link",
        "physical_address",
        "sender_identification"
      ]
    },
    "deliverability_checks": {
      "spam_score_threshold": 5.0,
      "link_reputation_check": true,
      "image_alt_text_required": true,
      "css_inline_required": true
    }
  },
  "rate_limiting": {
    "global_limits": {
      "emails_per_second": 10,
      "emails_per_minute": 300,
      "emails_per_hour": 2000,
      "emails_per_day": 25000
    },
    "provider_limits": {
      "sendgrid": {
        "emails_per_second": 5,
        "emails_per_minute": 200,
        "emails_per_hour": 1000
      },
      "aws_ses": {
        "emails_per_second": 1,
        "emails_per_minute": 60,
        "emails_per_hour": 500
      },
      "postmark": {
        "emails_per_second": 3,
        "emails_per_minute": 100,
        "emails_per_hour": 500
      }
    },
    "domain_limits": {
      "gmail.com": 100,
      "yahoo.com": 80,
      "outlook.com": 60,
      "default": 50
    }
  },
  "retry_logic": {
    "max_retries": 3,
    "retry_delays": [300, 900, 1800],
    "retry_conditions": {
      "temporary_failure": true,
      "rate_limit_exceeded": true,
      "provider_unavailable": true,
      "network_timeout": true
    },
    "no_retry_conditions": {
      "invalid_email": true,
      "hard_bounce": true,
      "spam_complaint": true,
      "unsubscribed": true
    }
  },
  "monitoring_rules": {
    "real_time_alerts": {
      "bounce_rate_threshold": 0.05,
      "complaint_rate_threshold": 0.001,
      "delivery_failure_threshold": 0.10,
      "provider_failure_threshold": 0.20
    },
    "daily_reports": {
      "delivery_rate_target": 0.95,
      "open_rate_target": 0.15,
      "click_rate_target": 0.02,
      "unsubscribe_rate_limit": 0.005
    }
  }
}
